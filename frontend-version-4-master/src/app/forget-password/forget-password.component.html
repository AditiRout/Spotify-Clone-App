<div class="forgot-password-container">
  <mat-card class="forgot-password-card">
    <!-- Spotify Logo at the Top -->
    <div class="spotify-logo">
      <img
        src="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_White.png"
        alt="Spotify Logo"
      />
    </div>
    <h2>Forgot your password?</h2>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
      <!-- Email Input -->
      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="Enter your email"
          required
        />
        <div
          *ngIf="
            forgotPasswordForm.get('email')?.touched &&
            forgotPasswordForm.get('email')?.invalid
          "
          class="error-message"
        >
          <small *ngIf="forgotPasswordForm.get('email')?.errors?.['required']"
            >Email is required.</small
          >
          <small *ngIf="forgotPasswordForm.get('email')?.errors?.['email']"
            >Please enter a valid email.</small
          >
        </div>
      </div>

      <!-- Security Question Dropdown -->
      <div class="form-group">
        <label for="securityQuestion">Choose your Security question</label>
        <select
          id="securityQuestion"
          formControlName="securityQuestion"
          required
        >
          <option value="" disabled>Select a question</option>
          <option value="What is your nickname?">What is your nickname?</option>
          <option value="What was your school's name?">
            What was your school's name?
          </option>
        </select>
      </div>

      <!-- Answer to Security Question -->
      <div class="form-group">
        <label for="answer">Security Answer</label>
        <input
          type="text"
          id="answer"
          formControlName="securityAnswer"
          placeholder="Enter your answer"
          required
        />
      </div>

      <!-- New Password Input with Validation -->
      <div class="form-group">
        <label for="password">New Password</label>
        <input
          type="password"
          id="password"
          formControlName="newPassword"
          placeholder="Create a new password"
          required
        />
        <div
          *ngIf="
            forgotPasswordForm.get('newPassword')?.touched &&
            forgotPasswordForm.get('newPassword')?.invalid
          "
          class="error-message"
        >
          <small
            *ngIf="forgotPasswordForm.get('newPassword')?.errors?.['required']"
            >Password is required.</small
          >
          <small
            *ngIf="forgotPasswordForm.get('newPassword')?.errors?.['minlength']"
            >Password must be at least 8 characters long.</small
          >
          <small
            *ngIf="forgotPasswordForm.get('newPassword')?.errors?.['pattern']"
            >Password must contain an uppercase letter, a lowercase letter, a
            number, and a special character.</small
          >
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="reset-button">Reset Password</button>
    </form>
  </mat-card>
</div>
